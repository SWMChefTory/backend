spring:
  application:
    name: api
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}?rewriteBatchedStatements=true
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}

  jpa:
    hibernate:
      ddl-auto: create-drop
    database-platform: org.hibernate.dialect.MySQLDialect
    properties:
      hibernate:
        show_sql: true
        format_sql: true
        jdbc:
          batch_size: 50
        order_updates: true

  batch:
    job:
      enabled: true
    jdbc:
      initialize-schema: always

opensearch:
  host: ${OPENSEARCH_HOST}
  port: ${OPENSEARCH_PORT}
  username: ${OPENSEARCH_USERNAME}
  password: ${OPENSEARCH_PASSWORD}

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
      base-path: /actuator
  endpoint:
    prometheus:
      access: read_only
    health:
      show-details: always
  metrics:
    tags:
      application: cheftory-proxy-server
    distribution:
      percentiles-histogram:
        http.server.requests: true
      percentiles:
        http.server.requests: 0.5,0.95,0.99
  server:
    port: 8081

logging:
  level:
    org.springframework.web.servlet.DispatcherServlet: DEBUG

youtube:
  api-token: ${YOUTUBE_API_KEY}

ai-recipe-summary:
  url: http://${AI_RECIPE_SUMMARY_HOST}:${AI_RECIPE_SUMMARY_PORT}

jwt:
  secret: ${JWT_SECRET}
  refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION}
  access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION}
  access-token-type: ${JWT_ACCESS_TOKEN_TYPE}
  refresh-token-type: ${JWT_REFRESH_TOKEN_TYPE}

apple:
  client-id: ${APPLE_CLIENT_ID}